//Copyright>    CFG Files and Library ("CFG")
//Copyright>    Copyright (C) 1986-2024 Altair Engineering Inc.
//Copyright>
//Copyright>    Altair Engineering Inc. grants to third parties limited permission to
//Copyright>    use and modify CFG solely in connection with OpenRadioss software, provided
//Copyright>    that any modification to CFG by a third party must be provided back to
//Copyright>    Altair Engineering Inc. and shall be deemed a Contribution under and therefore
//Copyright>    subject to the CONTRIBUTOR LICENSE AGREEMENT for OpenRadioss software.
//Copyright>
//Copyright>    CFG IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
//Copyright>    INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR
//Copyright>    A PARTICULAR PURPOSE, AND NONINFRINGEMENT.  IN NO EVENT SHALL ALTAIR ENGINEERING
//Copyright>    INC. OR ITS AFFILIATES BE LIABLE FOR ANY CLAIM, DAMAGES, OR OTHER LIABILITY,
//Copyright>    WHETHER IN AN ACTION OF CONTRACT, TORT, OR OTHERWISE, ARISING FROM, OUT OF, OR
//Copyright>    IN CONNECTION WITH CFG OR THE USE OR OTHER DEALINGS IN CFG.
//
// Material law 060
// 


 ATTRIBUTES(COMMON) 
 
 {
  
  // Initial and reference densities
  KEYWORD_STR                       = VALUE(STRING, "Solver Keyword");
  LSD_TitleOpt                      = VALUE(INT, "Title");
  CommentEnumField                  = VALUE(INT, "User Comments");
  Num_Comments                      = SIZE("No. of comment lines");
  Comments                          = ARRAY[Num_Comments](STRING, "Entity Comments");
  Rho                               = VALUE(FLOAT, "Mass density");  
  LSD_V0                            = VALUE(FLOAT, "Temperature independent dynamic viscosity coefficient");
  LSD_A                             = VALUE(FLOAT, "Dynamic viscosity coefficient");
  LSD_B1                            = VALUE(FLOAT, "Dynamic viscosity coefficient");
  LSD_C                             = VALUE(FLOAT, "Dynamic viscosity coefficient");
  LSD_LCID                          = VALUE(FUNCT, "Load curve");
  LSD_PR1                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR2                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR4                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR3                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR5                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR6                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR7                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_PR8                           = VALUE(FLOAT, "Poisson’s ratios for the temperatures");
  LSD_T1                            = VALUE(FLOAT, "Temperatures T1");
  LSD_T2                            = VALUE(FLOAT, "Temperatures T2");
  LSD_T3                            = VALUE(FLOAT, "Temperatures T3");
  LSD_T4                            = VALUE(FLOAT, "Temperatures T4");
  LSD_T5                            = VALUE(FLOAT, "Temperatures T5");
  LSD_T6                            = VALUE(FLOAT, "Temperatures T6");
  LSD_T7                            = VALUE(FLOAT, "Temperatures T7");
  LSD_T8                            = VALUE(FLOAT, "Temperatures T8");
  LSD_MAT_V1                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V1");
  LSD_MAT_V2                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V2");
  LSD_MAT_V3                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V3");
  LSD_MAT_V4                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V4");
  LSD_MAT_V5                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V5");
  LSD_MAT_V6                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V6");
  LSD_MAT_V7                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V7");
  LSD_MAT_V8                        = VALUE(FLOAT, "Corresponding dynamic viscosity coefficients V8");
  LSD_MAT_E1                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E1");
  LSD_MAT_E2                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E2");
  LSD_MAT_E3                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E3");
  LSD_MAT_E4                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E4");
  LSD_MAT_E5                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E5");
  LSD_MAT_E6                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E6");
  LSD_MAT_E7                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E7");
  LSD_MAT_E8                        = VALUE(FLOAT, "Corresponding Young’s moduli coefficients E8");
  LSD_ALPHA1                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA1");
  LSD_ALPHA2                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA2");
  LSD_ALPHA3                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA3");
  LSD_ALPHA4                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA4");
  LSD_ALPHA5                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA5");
  LSD_ALPHA6                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA6");
  LSD_ALPHA7                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA7");
  LSD_ALPHA8                        = VALUE(FLOAT, "Corresponding thermal expansion coefficients ALPHA8");
  
}

SKEYWORDS_IDENTIFIER(COMMON)

{

  KEYWORD_STR                   = 9000;
  CommentEnumField              = 3220;
  Num_Comments                  = 3101;
  LSD_TitleOpt                  = 90;
  Comments                      = 3100;
  Rho                           = 118;
  LSD_V0                        = 1508;
  LSD_A                         = 718;
  LSD_B1                        = 1517;
  LSD_C                         = 1519;
  LSD_LCID                      = 45;
  LSD_PR1                       = 4865;
  LSD_PR2                       = 4840;
  LSD_PR4                       = 4841;
  LSD_PR3                       = 4842;
  LSD_PR5                       = 4843;
  LSD_PR6                       = 4844;
  LSD_PR7                       = 4845;
  LSD_PR8                       = 4846;
  LSD_T1                        = 431;
  LSD_T2                        = 432;
  LSD_T3                        = 433;
  LSD_T4                        = 434;
  LSD_T5                        = 1587;
  LSD_T6                        = 1588;
  LSD_T7                        = 1589;
  LSD_T8                        = 1590;
  LSD_MAT_V1                    = 342;
  LSD_MAT_V2                    = 343;
  LSD_MAT_V3                    = 344;
  LSD_MAT_V4                    = 4847;
  LSD_MAT_V5                    = 4848;
  LSD_MAT_V6                    = 4849;
  LSD_MAT_V7                    = 4851;
  LSD_MAT_V8                    = 4852;
  LSD_MAT_E1                    = 1127;
  LSD_MAT_E2                    = 1129;
  LSD_MAT_E3                    = 4853;
  LSD_MAT_E4                    = 4854;
  LSD_MAT_E5                    = 4855;
  LSD_MAT_E6                    = 4856;
  LSD_MAT_E7                    = 4857;
  LSD_MAT_E8                    = 4858;
  LSD_ALPHA1                    = 4817;
  LSD_ALPHA2                    = 4579;
  LSD_ALPHA3                    = 4859;
  LSD_ALPHA4                    = 4860;
  LSD_ALPHA5                    = 4866;
  LSD_ALPHA6                    = 4862;
  LSD_ALPHA7                    = 4863;
  LSD_ALPHA8                    = 4864;
  
}

DRAWABLES(COMMON) {
public:
  MASS_DENSITY=SCALAR(Rho);
  TEMPERATURE_INDEPENDENT_VISCOSITY_COEFFICIENT=SCALAR(LSD_V0);
  VISCOSITY_COEFFICIENT_A=SCALAR(LSD_A);
  VISCOSITY_COEFFICIENT_B=SCALAR(LSD_B1);
  VISCOSITY_COEFFICIENT_C=SCALAR(LSD_C);
  PR1 = SCALAR(LSD_PR1);
  PR2 = SCALAR(LSD_PR2);
  PR4 = SCALAR(LSD_PR4);
  PR3 = SCALAR(LSD_PR3);
  PR5 = SCALAR(LSD_PR5);
  PR6 = SCALAR(LSD_PR6);
  PR7 = SCALAR(LSD_PR7);
  PR8 = SCALAR(LSD_PR8);
  POISSON_RATIO = MAX(PR1,PR2,PR4,PR3,PR5,PR6,PR7,PR8);
  E1 = SCALAR(LSD_MAT_E1);
  E2 = SCALAR(LSD_MAT_E2);
  E3 = SCALAR(LSD_MAT_E3);
  E4 = SCALAR(LSD_MAT_E4);
  E5 = SCALAR(LSD_MAT_E5);
  E6 = SCALAR(LSD_MAT_E6);
  E7 = SCALAR(LSD_MAT_E7);
  E8 = SCALAR(LSD_MAT_E8);
  YOUNG_MODULUS = MAX(E1,E2,E3,E4,E5,E6,E7,E8);
  //SOUND_SPEED is speed for ISDO = 0 and 1
  SOUND_SPEED        = EVAL((YOUNG_MODULUS/(MASS_DENSITY*(1-POISSON_RATIO*POISSON_RATIO)))^0.5);
  SOUND_SPEED_ISDO_2 = EVAL((YOUNG_MODULUS/MASS_DENSITY)^0.5);
 private:
  G                 = EVAL(YOUNG_MODULUS/(2*(1+POISSON_RATIO)));
  C1                = EVAL(YOUNG_MODULUS/(3*(1-2*POISSON_RATIO)));
 public:
  SOUND_SPEED_SOLID = EVAL(((4*G/3+C1)/MASS_DENSITY)^0.5);
}

GUI(COMMON) 

{


     ASSIGN(KEYWORD_STR, "*MAT_ELASTIC_WITH_VISCOSITY");
     RADIO(CommentEnumField)
     {
         ENUM_VALUE_FLAG=TRUE;
         ADD(1, "Hide in Menu/Export");
         ADD(2, "Show in Menu/Export");
         ADD(3, "Do not export");
     }
     if(CommentEnumField == 2)
     {  
        SIZE(Num_Comments);
        ARRAY(Num_Comments,"")
        {
           SCALAR(Comments);
        }
     }     
     FLAG(LSD_TitleOpt);
     if(LSD_TitleOpt == TRUE)
       {
             ASSIGN(KEYWORD_STR, "_TITLE");
       } 
 mandatory:
     SCALAR(Rho)                         { DIMENSION="density";}
 optional:
     SCALAR(LSD_V0)                      {DIMENSION="pressure";}
     SCALAR(LSD_A)                       {DIMENSION="k";}
     SCALAR(LSD_B1)                      {DIMENSION="k";}
     SCALAR(LSD_C)                       {DIMENSION="DIMENSIONLESS";}
     DATA(LSD_LCID);
     SCALAR(LSD_PR1)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR2)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR3)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR4)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR5)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR6)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR7)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_PR8)                     {DIMENSION="DIMENSIONLESS";}
     SCALAR(LSD_T1)                      {DIMENSION="k";}
     SCALAR(LSD_T2)                      {DIMENSION="k";}
     SCALAR(LSD_T3)                      {DIMENSION="k";}
     SCALAR(LSD_T4)                      {DIMENSION="k";}
     SCALAR(LSD_T5)                      {DIMENSION="k";}
     SCALAR(LSD_T6)                      {DIMENSION="k";}
     SCALAR(LSD_T7)                      {DIMENSION="k";}
     SCALAR(LSD_T8)                      {DIMENSION="k";}
     SCALAR(LSD_MAT_V1)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V2)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V3)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V4)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V5)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V6)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V7)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_V8)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E1)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E2)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E3)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E4)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E5)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E6)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E7)                  {DIMENSION="pressure";}
     SCALAR(LSD_MAT_E8)                  {DIMENSION="pressure";}
     SCALAR(LSD_ALPHA1)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA2)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA3)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA4)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA5)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA6)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA7)                  {DIMENSION="coefficient_of_linear_inflation";}
     SCALAR(LSD_ALPHA8)                  {DIMENSION="coefficient_of_linear_inflation";}
/*
    graphical SUPPORT("Part(s) to which material is applied") {
      OBJECTS=(/COMPONENT/BRICK,/COMPONENT/TETRA4,/COMPONENT/LINEAR_3D,/COMPONENT/SHELL);
      ADD(COMPONENT,"Parts");
    }
*/
}

// File format
FORMAT(Keyword971) 
{         
    //
    COMMENT("$      MID       RHO        V0         A         B         C      LCID");
    CARD("%10d%10lg%10lg%10lg%10lg%10lg%10lg",_ID_,Rho,LSD_V0,LSD_A,LSD_B1,LSD_C,LSD_LCID);
    //
    COMMENT("$      PR1       PR2       PR3       PR4       PR5       PR6       PR7       PR8");
    CARD("%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg",LSD_PR1,LSD_PR2,LSD_PR3,LSD_PR4,LSD_PR5,LSD_PR6,LSD_PR7,LSD_PR8);
    //
    COMMENT("$       T1        T2        T3        T4        T5        T6        T7        T8");
    CARD("%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg",LSD_T1,LSD_T2,LSD_T3,LSD_T4,LSD_T5,LSD_T6,LSD_T7,LSD_T8);
    //
    COMMENT("$       V1        V2        V3        V4        V5        V6        V7        V8");
    CARD("%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg",LSD_MAT_V1,LSD_MAT_V2,LSD_MAT_V3,LSD_MAT_V4,LSD_MAT_V5,LSD_MAT_V6,LSD_MAT_V7,LSD_MAT_V8);
    //
    COMMENT("$       E1        E2        E3        E4        E5        E6        E7        E8");
    CARD("%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg",LSD_MAT_E1,LSD_MAT_E2,LSD_MAT_E3,LSD_MAT_E4,LSD_MAT_E5,LSD_MAT_E6,LSD_MAT_E7,LSD_MAT_E8);
    //
    COMMENT("$   ALPHA1    ALPHA2    ALPHA3    ALPHA4    ALPHA5    ALPHA6    ALPHA7    ALPHA8");
    CARD("%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg",LSD_ALPHA1,LSD_ALPHA2,LSD_ALPHA3,LSD_ALPHA4,LSD_ALPHA5,LSD_ALPHA6,LSD_ALPHA7,LSD_ALPHA8);
    //
}