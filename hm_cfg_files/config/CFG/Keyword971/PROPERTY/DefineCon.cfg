//Copyright>    CFG Files and Library ("CFG")
//Copyright>    Copyright (C) 1986-2024 Altair Engineering Inc.
//Copyright>
//Copyright>    Altair Engineering Inc. grants to third parties limited permission to
//Copyright>    use and modify CFG solely in connection with OpenRadioss software, provided
//Copyright>    that any modification to CFG by a third party must be provided back to
//Copyright>    Altair Engineering Inc. and shall be deemed a Contribution under and therefore
//Copyright>    subject to the CONTRIBUTOR LICENSE AGREEMENT for OpenRadioss software.
//Copyright>
//Copyright>    CFG IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
//Copyright>    INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR
//Copyright>    A PARTICULAR PURPOSE, AND NONINFRINGEMENT.  IN NO EVENT SHALL ALTAIR ENGINEERING
//Copyright>    INC. OR ITS AFFILIATES BE LIABLE FOR ANY CLAIM, DAMAGES, OR OTHER LIABILITY,
//Copyright>    WHETHER IN AN ACTION OF CONTRACT, TORT, OR OTHERWISE, ARISING FROM, OUT OF, OR
//Copyright>    IN CONNECTION WITH CFG OR THE USE OR OTHER DEALINGS IN CFG.
//
// Property
//

ATTRIBUTES(COMMON)
{

    KEYWORD_STR                             = VALUE(STRING, "Solver Keyword");
    DEFCON_AREAEQ                           = VALUE(INT,  "AREAEQ");
    Number_of_Materials                     = SIZE("Number_of_Materials");
    DEFCON_DG_PR                            = ARRAY[Number_of_Materials](FLOAT,  "DG_PR");
    DEFCON_DG_TYP                           = VALUE(INT,  "DG_TYP");
    DEFCON_D_DG_PR                          = VALUE(FLOAT,  "D_DG_PR");
    DEFCON_D_ETAN                           = VALUE(FLOAT,  "D_ETAN");
    DEFCON_D_EXSB                           = VALUE(FLOAT,  "D_EXSB");
    DEFCON_D_EXSN                           = VALUE(FLOAT,  "D_EXSN");
    DEFCON_D_EXSS                           = VALUE(FLOAT,  "D_EXSS");
    DEFCON_D_GFAD                           = VALUE(FLOAT,  "D_GFAD");
    DEFCON_D_LCSB                           = VALUE(FUNCT,  "D_LCSB");
    DEFCON_D_LCSN                           = VALUE(FUNCT,  "D_LCSN");
    DEFCON_D_LCSS                           = VALUE(FUNCT,  "D_LCSS");
    DEFCON_D_RANK                           = VALUE(FLOAT,  "D_RANK");
    DEFCON_D_SB                             = VALUE(FLOAT,  "D_SB");
    DEFCON_D_SCLMRR                         = VALUE(FLOAT,  "D_SCLMRR");
    DEFCON_D_SIGY                           = VALUE(FLOAT,  "D_SIGY");
    DEFCON_D_SN                             = VALUE(FLOAT,  "D_SN");
    DEFCON_D_SS                             = VALUE(FLOAT,  "D_SS");
    DEFCON_ETAN                             = ARRAY[Number_of_Materials](FLOAT,  "ETAN");
    DEFCON_EXSB                             = ARRAY[Number_of_Materials](FLOAT,  "EXSB");
    DEFCON_EXSN                             = ARRAY[Number_of_Materials](FLOAT,  "EXSN");
    DEFCON_EXSS                             = ARRAY[Number_of_Materials](FLOAT,  "EXSS");
    DEFCON_GFAD                             = ARRAY[Number_of_Materials](FLOAT,  "GFAD");
    DEFCON_LCSB                             = ARRAY[Number_of_Materials](FUNCT,  "LCSB");
    DEFCON_LCSN                             = ARRAY[Number_of_Materials](FUNCT,  "LCSN");
    DEFCON_LCSS                             = ARRAY[Number_of_Materials](FUNCT,  "LCSS");
    DEFCON_MOARFL                           = VALUE(INT,  "MOARFL");
    DEFCON_PROPRUL                          = VALUE(INT,  "PROPRUL");
    DEFCON_RANK                             = ARRAY[Number_of_Materials](FLOAT,  "RANK");
    DEFCON_SB                               = ARRAY[Number_of_Materials](FLOAT,  "SB");
    DEFCON_SCLMRR                           = ARRAY[Number_of_Materials](FLOAT,  "SCLMRR");
    DEFCON_SGIY                             = ARRAY[Number_of_Materials](FLOAT,  "SGIY");
    DEFCON_SN                               = ARRAY[Number_of_Materials](FLOAT,  "SN");
    DEFCON_SS                               = ARRAY[Number_of_Materials](FLOAT,  "SS");
    LSD_TitleOpt                            = VALUE(INT,  "Title");
    PartComposite_MID                       = ARRAY[Number_of_Materials](MAT,  "MID");

}

SKEYWORDS_IDENTIFIER(COMMON)
{

    KEYWORD_STR                             = 9000;
    DEFCON_AREAEQ                           = 905;
    DEFCON_DG_PR                            = 945;
    DEFCON_DG_TYP                           = 906;
    DEFCON_D_DG_PR                          = 909;
    DEFCON_D_ETAN                           = 908;
    DEFCON_D_EXSB                           = 915;
    DEFCON_D_EXSN                           = 914;
    DEFCON_D_EXSS                           = 916;
    DEFCON_D_GFAD                           = 6127;
    DEFCON_D_LCSB                           = 918;
    DEFCON_D_LCSN                           = 917;
    DEFCON_D_LCSS                           = 919;
    DEFCON_D_RANK                           = 910;
    DEFCON_D_SB                             = 912;
    DEFCON_D_SCLMRR                         = 1308;
    DEFCON_D_SIGY                           = 907;
    DEFCON_D_SN                             = 911;
    DEFCON_D_SS                             = 913;
    DEFCON_ETAN                             = 944;
    DEFCON_EXSB                             = 951;
    DEFCON_EXSN                             = 950;
    DEFCON_EXSS                             = 952;
    DEFCON_GFAD                             = 6126;
    DEFCON_LCSB                             = 955;
    DEFCON_LCSN                             = 954;
    DEFCON_LCSS                             = 956;
    DEFCON_MOARFL                           = 6128;
    DEFCON_PROPRUL                          = 904;
    DEFCON_RANK                             = 946;
    DEFCON_SB                               = 948;
    DEFCON_SCLMRR                           = 1309;
    DEFCON_SGIY                             = 943;
    DEFCON_SN                               = 947;
    DEFCON_SS                               = 949;
    LSD_TitleOpt                            = 90;
    Number_of_Materials                     = 957;
    PartComposite_MID                       = 620;

}

DEFAULTS(COMMON)
{

    DEFCON_D_DG_PR    = 1.0E+10;
    DEFCON_D_EXSB     = 1.0;
    DEFCON_D_EXSN     = 1.0;
    DEFCON_D_EXSS     = 1.0;
    DEFCON_D_SCLMRR   = 1.0;

}

GUI(COMMON)
{

    ASSIGN(KEYWORD_STR, "*DEFINE_CONNECTION_PROPERTIES");
    FLAG( LSD_TitleOpt);
    if(LSD_TitleOpt == TRUE)
    {
        ASSIGN(KEYWORD_STR,"_TITLE");
    }
    SCALAR(DEFCON_PROPRUL)                              { DIMENSION="DIMENSIONLESS"; }
    RADIO(DEFCON_AREAEQ)
    {
       ADD(-1, "-1: Meter form");
       ADD(0,  " 0: Area_true = Area_modeled");
       ADD(1,  " 1: Millimeter form");
    }
    RADIO(DEFCON_DG_TYP)
    {
       ADD(0, "0: No damage function is used");
       ADD(1, "1: Strain based damage");
       ADD(2, "2: Failure function based damage");
       ADD(3, "3: Fading energy based damage");
       ADD(4, "4: Fading energy based damage");
    }
    RADIO(DEFCON_MOARFL)
    {
       ADD(0, "0: Area_modeled goes down with shear");
       ADD(1, "1: Area_modeled stays constant");
    }
    SCALAR(DEFCON_D_SIGY)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_ETAN)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_DG_PR)                              { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_RANK)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_SN)                                 { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_SB)                                 { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_SS)                                 { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_EXSN)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_EXSB)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_EXSS)                               { DIMENSION="DIMENSIONLESS"; }
    DATA(DEFCON_D_LCSN);
    DATA(DEFCON_D_LCSB);
    DATA(DEFCON_D_LCSS);
    SCALAR(DEFCON_D_GFAD)                               { DIMENSION="DIMENSIONLESS"; }
    SCALAR(DEFCON_D_SCLMRR);
    SIZE(Number_of_Materials);
    if(Number_of_Materials > 0)
    {
        ARRAY(Number_of_Materials,"")
        {
            DATA(PartComposite_MID);
            SCALAR(DEFCON_SGIY)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_ETAN)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_DG_PR)                        { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_RANK)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_SN)                           { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_SB)                           { DIMENSION="DIMENSIONLESS";}
            SCALAR(DEFCON_SS)                           { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_EXSN)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_EXSB)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_EXSS);
            DATA(DEFCON_LCSN);
            DATA(DEFCON_LCSB);
            DATA(DEFCON_LCSS);
            SCALAR(DEFCON_GFAD)                         { DIMENSION="DIMENSIONLESS"; }
            SCALAR(DEFCON_SCLMRR);
        }
    }

}

// File format
FORMAT(Keyword971) 
{
    //
    COMMENT("$   CON_ID   PROPRUL    AREAEQ              DG_TYP    MOARFL");
    CARD("%10lg%10d%10d          %10d%10d",_ID_,DEFCON_PROPRUL,DEFCON_AREAEQ,DEFCON_DG_TYP,DEFCON_MOARFL);
    //
    COMMENT("$             D_SIGY    D_ETAN   D_DG_PR    D_RANK      D_SN      D_SB      D_SS");
    CARD("          %10lg%10lg%10lg%10lg%10lg%10lg%10lg",DEFCON_D_SIGY,DEFCON_D_ETAN,DEFCON_D_DG_PR,DEFCON_D_RANK,DEFCON_D_SN,DEFCON_D_SB,DEFCON_D_SS);
    //
    COMMENT("$   D_EXSN    D_EXSB    D_EXSS    D_LCSN    D_LCSB    D_LCSS    D_GFAD   DSCLMRR");
    CARD("%10lg%10lg%10lg%10d%10d%10d%10lg%10lg",DEFCON_D_EXSN,DEFCON_D_EXSB,DEFCON_D_EXSS,DEFCON_D_LCSN,DEFCON_D_LCSB,DEFCON_D_LCSS,DEFCON_D_GFAD,DEFCON_D_SCLMRR);
    //
    if(Number_of_Materials > 0) 
    {
        //
        COMMENT("$      MID      SGIY      ETAN     DG_PR      RANK        SN        SB        SS");
        COMMENT("$     EXSN      EXSB      EXSS      LCSN      LCSB      LCSS      GFAD");
        //
    }
    FREE_CELL_LIST(Number_of_Materials,"%10d%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10lg%10d%10d%10d%10lg%10lg",PartComposite_MID,DEFCON_SGIY,DEFCON_ETAN,DEFCON_DG_PR,DEFCON_RANK,DEFCON_SN,DEFCON_SB,DEFCON_SS,DEFCON_EXSN,DEFCON_EXSB,DEFCON_EXSS,DEFCON_LCSN,DEFCON_LCSB,DEFCON_LCSS,DEFCON_GFAD,DEFCON_SCLMRR);
    //
}
