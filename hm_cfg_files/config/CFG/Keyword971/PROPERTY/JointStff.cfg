//Copyright>    CFG Files and Library ("CFG")
//Copyright>    Copyright (C) 1986-2022 Altair Engineering Inc.
//Copyright>
//Copyright>    Altair Engineering Inc. grants to third parties limited permission to 
//Copyright>    use and modify CFG solely in connection with OpenRadioss software, provided 
//Copyright>    that any modification to CFG by a third party must be provided back to 
//Copyright>    Altair Engineering Inc. and shall be deemed a Contribution under and therefore
//Copyright>    subject to the CONTRIBUTOR LICENSE AGREEMENT for OpenRadioss software. 
//Copyright>  
//Copyright>    CFG IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
//Copyright>    INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR 
//Copyright>    A PARTICULAR PURPOSE, AND NONINFRINGEMENT.  IN NO EVENT SHALL ALTAIR ENGINEERING
//Copyright>    INC. OR ITS AFFILIATES BE LIABLE FOR ANY CLAIM, DAMAGES, OR OTHER LIABILITY, 
//Copyright>    WHETHER IN AN ACTION OF CONTRACT, TORT, OR OTHERWISE, ARISING FROM, OUT OF, OR
//Copyright>    IN CONNECTION WITH CFG OR THE USE OR OTHER DEALINGS IN CFG.
//
// Property
//

ATTRIBUTES(COMMON)
{

    KEYWORD_STR                             = VALUE(STRING, "Solver Keyword");
    LSD_CID                                 = VALUE(SYSTEM,  "CIDA");
    LSD_CID2                                = VALUE(SYSTEM,  "CIDB");
    LSD_ESAL                                = VALUE(FLOAT,  "ESAL");
    LSD_ESBT                                = VALUE(FLOAT,  "ESBT");
    LSD_ESPH                                = VALUE(FLOAT,  "ESX");
    LSD_ESPS                                = VALUE(FLOAT,  "ESZ");
    LSD_EST                                 = VALUE(FLOAT,  "ESY");
    LSD_FFX_CURVE                           = VALUE(FUNCT,  "FFX");
    LSD_FFX_CURVE_OPT                       = VALUE(INT,  "FFX_Curve");
    LSD_FFY_CURVE                           = VALUE(FUNCT,  "FFY");
    LSD_FFY_CURVE_OPT                       = VALUE(INT,  "FFY_Curve");
    LSD_FFZ_CURVE                           = VALUE(FUNCT,  "FFZ");
    LSD_FFZ_CURVE_OPT                       = VALUE(INT,  "FFZ_Curve");
    LSD_FMAL                                = VALUE(FLOAT,  "FMAL");
    LSD_FMAL_CURVE                          = VALUE(FUNCT,  "FMAL");
    LSD_FMBT                                = VALUE(FLOAT,  "FMBT");
    LSD_FMBT_CURVE                          = VALUE(FUNCT,  "FMBT");
    LSD_FMPH                                = VALUE(FLOAT,  "FFX");
    LSD_FMPH_CURVE                          = VALUE(FUNCT,  "FMPH");
    LSD_FMPH_CURVE_OPT                      = VALUE(INT,  "FMPH_Curve");
    LSD_FMPS                                = VALUE(FLOAT,  "FFZ");
    LSD_FMPS_CURVE                          = VALUE(FUNCT,  "FMPS");
    LSD_FMPS_CURVE_OPT                      = VALUE(INT,  "FMPS_Curve");
    LSD_FMT                                 = VALUE(FLOAT,  "FFY");
    LSD_FMT_CURVE                           = VALUE(FUNCT,  "FMT");
    LSD_FMT_CURVE_OPT                       = VALUE(INT,  "FMT_Curve");
    LSD_JID                                 = VALUE(MULTIOBJECT,  "JID")    { SUBTYPES = (  /ELEMENT  ) ;  }
    LSD_LCID                                = VALUE(FUNCT,  "LCIDX");
    LSD_LCID10                              = VALUE(FUNCT,  "DLCIDAL");
    LSD_LCID11                              = VALUE(FUNCT,  "DLCIDG");
    LSD_LCID12                              = VALUE(FUNCT,  "DLCIDBT");
    LSD_LCID2                               = VALUE(FUNCT,  "LCIDY");
    LSD_LCID3                               = VALUE(FUNCT,  "LCIDZ");
    LSD_LCID4                               = VALUE(FUNCT,  "DLCIDX");
    LSD_LCID5                               = VALUE(FUNCT,  "DLCIDY");
    LSD_LCID6                               = VALUE(FUNCT,  "DLCIDZ");
    LSD_LCID7                               = VALUE(FUNCT,  "LCIDAL");
    LSD_LCID8                               = VALUE(FUNCT,  "LCIDG");
    LSD_LCID9                               = VALUE(FUNCT,  "LCIDBT");
    LSD_NSABT                               = VALUE(FLOAT,  "NSABT");
    LSD_NSAPH                               = VALUE(FLOAT,  "NSDX");
    LSD_NSAPS                               = VALUE(FLOAT,  "NSDZ");
    LSD_NSAT                                = VALUE(FLOAT,  "NSDY");
    LSD_PID                                 = VALUE(COMPONENT,  "PIDA");
    LSD_PID2                                = VALUE(COMPONENT,  "PIDB");
    LSD_PSABT                               = VALUE(FLOAT,  "PSABT");
    LSD_PSAPH                               = VALUE(FLOAT,  "PSDX");
    LSD_PSAPS                               = VALUE(FLOAT,  "PSDZ");
    LSD_PSAT                                = VALUE(FLOAT,  "PSDY");
    LSD_SAAL                                = VALUE(FLOAT,  "SAAL");
    LSD_TitleOpt                            = VALUE(INT,  "Title");
    Option1                                 = VALUE(INT,  "FMAL_Curve");
    Option2                                 = VALUE(INT,  "FMBT_Curve");
    Sect_Option1                            = VALUE(INT,  "Options");

}

SKEYWORDS_IDENTIFIER(COMMON)
{

    KEYWORD_STR                             = 9000;
    LSD_CID                                 = 412;
    LSD_CID2                                = 414;
    LSD_ESAL                                = 528;
    LSD_ESBT                                = 530;
    LSD_ESPH                                = 516;
    LSD_ESPS                                = 520;
    LSD_EST                                 = 518;
    LSD_FFX_CURVE                           = 1180;
    LSD_FFX_CURVE_OPT                       = 1103;
    LSD_FFY_CURVE                           = 1181;
    LSD_FFY_CURVE_OPT                       = 1116;
    LSD_FFZ_CURVE                           = 1182;
    LSD_FFZ_CURVE_OPT                       = 1158;
    LSD_FMAL                                = 529;
    LSD_FMAL_CURVE                          = 1165;
    LSD_FMBT                                = 531;
    LSD_FMBT_CURVE                          = 1179;
    LSD_FMPH                                = 517;
    LSD_FMPH_CURVE                          = 1183;
    LSD_FMPH_CURVE_OPT                      = 1159;
    LSD_FMPS                                = 521;
    LSD_FMPS_CURVE                          = 1185;
    LSD_FMPS_CURVE_OPT                      = 1161;
    LSD_FMT                                 = 519;
    LSD_FMT_CURVE                           = 1184;
    LSD_FMT_CURVE_OPT                       = 1160;
    LSD_JID                                 = 4460;
    LSD_LCID                                = 45;
    LSD_LCID10                              = 1142;
    LSD_LCID11                              = 1175;
    LSD_LCID12                              = 1176;
    LSD_LCID2                               = 168;
    LSD_LCID3                               = 170;
    LSD_LCID4                               = 171;
    LSD_LCID5                               = 172;
    LSD_LCID6                               = 199;
    LSD_LCID7                               = 200;
    LSD_LCID8                               = 224;
    LSD_LCID9                               = 1141;
    LSD_NSABT                               = 533;
    LSD_NSAPH                               = 522;
    LSD_NSAPS                               = 526;
    LSD_NSAT                                = 524;
    LSD_PID                                 = 149;
    LSD_PID2                                = 150;
    LSD_PSABT                               = 534;
    LSD_PSAPH                               = 523;
    LSD_PSAPS                               = 527;
    LSD_PSAT                                = 525;
    LSD_SAAL                                = 532;
    LSD_TitleOpt                            = 90;
    Option1                                 = 686;
    Option2                                 = 687;
    Sect_Option1                            = 5287;

}

CHECK(COMMON)
{

    LSD_FMAL                                  >=0.0;
    LSD_FMBT                                  >=0.0;
    LSD_FMPH                                  >=0.0;
    LSD_FMPS                                  >=0.0;
    LSD_FMT                                   >=0.0;
}

GUI(COMMON)
{

    ASSIGN(KEYWORD_STR, "*CONSTRAINED_JOINT_STIFFNESS");
    RADIO(Sect_Option1)
    {
       ADD(1, "Generalized");
       ADD(2, "Flexion Torsion");
       ADD(3, "Translational");
    }
    if(Sect_Option1 == 1)
    {
        ASSIGN(KEYWORD_STR, "_GENERALIZED");
    }
    if(Sect_Option1 == 2)
    {
        ASSIGN(KEYWORD_STR, "_FLEXION-TORSION");
    }
    if(Sect_Option1 == 3)
    {
        ASSIGN(KEYWORD_STR, "_TRANSLATIONAL");
    }
    FLAG( LSD_TitleOpt);
    if(LSD_TitleOpt == TRUE)
    {
        ASSIGN(KEYWORD_STR,"_TITLE");
    }
    DATA(LSD_PID);
    DATA(LSD_PID2);
    DATA(LSD_CID);
    DATA(LSD_CID2);
    DATA(LSD_JID);
    if(Sect_Option1== 1 || Sect_Option1== 3)
    {
       DATA(LSD_LCID);
       DATA(LSD_LCID2);
       DATA(LSD_LCID3);
       DATA(LSD_LCID4);
       DATA(LSD_LCID5);
       DATA(LSD_LCID6);
       SCALAR(LSD_ESPH);
    }
    if(Sect_Option1== 1)
    {
       FLAG(LSD_FMPH_CURVE_OPT);
    }
    if(Sect_Option1== 1 && LSD_FMPH_CURVE_OPT == FALSE)
    {
        SCALAR(LSD_FMPH);
    }
    if(Sect_Option1== 1 && LSD_FMPH_CURVE_OPT == TRUE)
    {
        DATA(LSD_FMPH_CURVE);
    }
    if(Sect_Option1== 1)
    {
       SCALAR(LSD_EST);
       FLAG(LSD_FMT_CURVE_OPT);
    }
    if(Sect_Option1== 1 && LSD_FMT_CURVE_OPT == FALSE)
    {
        SCALAR(LSD_FMT);
    }
    if(Sect_Option1== 1 && LSD_FMT_CURVE_OPT == TRUE)
    {
        DATA(LSD_FMT_CURVE);
    }
    if(Sect_Option1== 1)
    {
       SCALAR(LSD_ESPS);
       FLAG(LSD_FMPS_CURVE_OPT);
    }
    if(Sect_Option1== 1 && LSD_FMPS_CURVE_OPT == FALSE)
    {
        SCALAR(LSD_FMPS);
    }
    if(Sect_Option1== 1 && LSD_FMPS_CURVE_OPT == TRUE)
    {
        DATA(LSD_FMPS_CURVE);
    }
    if(Sect_Option1== 1)
    {
       SCALAR(LSD_NSAPH);
       SCALAR(LSD_PSAPH);
       SCALAR(LSD_NSAT);
       SCALAR(LSD_PSAT);
       SCALAR(LSD_NSAPS);
       SCALAR(LSD_PSAPS);
    }

    if( Sect_Option1== 2)
    {
       DATA(LSD_LCID7);
       DATA(LSD_LCID8);
       DATA(LSD_LCID9);
       DATA(LSD_LCID10);
       DATA(LSD_LCID11);
       DATA(LSD_LCID12);
       SCALAR(LSD_ESAL);
       FLAG(Option1);
    }
    if( Sect_Option1== 2 && Option1 == FALSE)
    {    
       SCALAR(LSD_FMAL);
    }
    if( Sect_Option1== 2 && Option1 == TRUE)
    {    
       DATA(LSD_FMAL_CURVE);
    }
    if( Sect_Option1== 2)
    {
       SCALAR(LSD_ESBT);
       FLAG(Option2);
    }
    if( Sect_Option1== 2 && Option2 == FALSE)
    {    
       SCALAR(LSD_FMBT);
    }
    if( Sect_Option1== 2 && Option2 == TRUE)
    {    
       DATA(LSD_FMBT_CURVE);
    }
    if(Sect_Option1== 2)
    {
       SCALAR(LSD_SAAL);
       SCALAR(LSD_NSABT);
       SCALAR(LSD_PSABT);
    }
    if( Sect_Option1== 3)
    {
       FLAG(LSD_FFX_CURVE_OPT);
    }
    if( Sect_Option1== 3 && LSD_FFX_CURVE_OPT == FALSE)
    {    
       SCALAR(LSD_FMPH);
    }
    if( Sect_Option1== 3 && LSD_FFX_CURVE_OPT == TRUE)
    {    
       DATA(LSD_FFX_CURVE);
    }
    if( Sect_Option1== 3)
    {
       SCALAR(LSD_EST);
       FLAG(LSD_FFY_CURVE_OPT);
    }
    if( Sect_Option1== 3 && LSD_FFY_CURVE_OPT == FALSE)
    {    
       SCALAR(LSD_FMT);
    }
    if( Sect_Option1== 3 && LSD_FFY_CURVE_OPT == TRUE)
    {    
       DATA(LSD_FFY_CURVE);
    }
    if( Sect_Option1== 3)
    {
       SCALAR(LSD_ESPS);
       FLAG(LSD_FFZ_CURVE_OPT);
    }
    if( Sect_Option1== 3 && LSD_FFZ_CURVE_OPT == FALSE)
    {    
       SCALAR(LSD_FMPS);
    }
    if( Sect_Option1== 3 && LSD_FFZ_CURVE_OPT == TRUE)
    {    
       DATA(LSD_FFZ_CURVE);
    }
    if( Sect_Option1== 3)
    {
       SCALAR(LSD_NSAPH);
       SCALAR(LSD_PSAPH);
       SCALAR(LSD_NSAT);
       SCALAR(LSD_PSAT);
       SCALAR(LSD_NSAPS);
       SCALAR(LSD_PSAPS);
    }

}

// File format
FORMAT(Keyword971) 
{
    //
    COMMENT("$     JSID      PIDA      PIDB      CIDA      CIDB       JID");
    CARD("%10d%10d%10d%10d%10d%10d",_ID_,LSD_PID,LSD_PID2,LSD_CID,LSD_CID2,LSD_JID);
    //
    if(Sect_Option1 == 1)
    {
        //
        COMMENT("$   LCIDPH     LCIDT    LCIDPS   DLCIDPH    DLCIDT   DLCIDPS");
//        CARD("%10d%10d%10d%10d%10d%10d",);
        //
        COMMENT("$     ESPH      FMPH       EST       FMT      ESPS      FMPS");
        CARD("%10lg%10lg%10lg%10lg%10lg%10lg",LSD_ESPH,SCALAR_OR_OBJECT(LSD_FMPH_CURVE_OPT,LSD_FMPH,LSD_FMPH_CURVE),LSD_EST,SCALAR_OR_OBJECT(LSD_FMT_CURVE_OPT,LSD_FMT,LSD_FMT_CURVE),LSD_ESPS,SCALAR_OR_OBJECT(LSD_FMPS_CURVE_OPT,LSD_FMPS,LSD_FMPS_CURVE));
        //
        COMMENT("$    NSAPH     PSAPH      NSAT      PSAT     NSAPS     PSAPS");
        CARD("%10lg%10lg%10lg%10lg%10lg%10lg",LSD_NSAPH,LSD_PSAPH,LSD_NSAT,LSD_PSAT,LSD_NSAPS,LSD_PSAPS);
        //
    }
    if(Sect_Option1 == 2)
    {
        //
        COMMENT("$   LCIDAL     LCIDG    LCIDBT   DLCIDAL    DLCIDG   DLCIDBT");
        CARD("%10d%10d%10d%10d%10d%10d",LSD_LCID7,LSD_LCID8,LSD_LCID9,LSD_LCID10,LSD_LCID11,LSD_LCID12);
        //
        COMMENT("$     ESAL      FMAL      ESBT      FMBT");
//        CARD("%10lg%10lg%10lg%10lg",);
        //
        COMMENT("$     SAAL     NSABT     PSABT");
//        CARD("%10lg%10lg%10lg",);
        //
    }
    if(Sect_Option1 == 3)
    {
        //
        COMMENT("$    LCIDX     LCIDY     LCIDZ    DLCIDX    DLCIDY    DLCIDZ");
//        CARD("%10d%10d%10d%10d%10d%10d",);
        //
        COMMENT("$      ESX       FFX       ESY       FFY       ESZ       FFZ");
//        CARD("%10lg%10lg%10lg%10lg%10lg%10lg",);
        //
        COMMENT("$     NSDX      PSDX      NSDY      PSDY      NSDZ      PSDZ");
//        CARD("%10lg%10lg%10lg%10lg%10lg%10lg",);
        //
    }
}
